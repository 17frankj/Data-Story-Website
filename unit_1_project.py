import pandas as pd
import matplotlib.pyplot as plt
import streamlit as st

# Set the title with custom styling 
st.markdown(
    """
    <h1 style = "text-align: center; background: #142ff1; color: #f11446; font-family: 'Arial Black', sans-serif; font-size: 4em; text-shadow: 2px 2px 5px #000; padding: 10px; ">
        Do Penalties Effect Scoring in NFL Games?
    </h1>
    """
    , unsafe_allow_html=True
)

# Referee Image
st.image("https://a3.espncdn.com/combiner/i?img=%2Fphoto%2F2014%2F1212%2Fnfl_u_frump1x_1296x729.jpg")

# Background
background_image = '''
    <style>
    .stApp {
        background: url("https://wallpapercave.com/wp/FF8a5Ku.jpg");
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center center;
    }
    </style>
'''

st.markdown(background_image, unsafe_allow_html=True)

# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|

st.markdown(
    """
    <h1 style = "text-align: center; color: #f11446; font-family: 'Arial Black', sans-serif; font-size: 4em; text-shadow: 2px 2px 5px #000; ">
        I Don't Know... Who Cares?
    </h1>
    """
    , unsafe_allow_html=True
)

# Another Image (Obama)
st.image("https://media1.tenor.com/m/jmYGxzxLqGMAAAAd/whatever-shrug.gif")

# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|

st.markdown(
    """
    <h1 style = "text-align: center; color: #1486f1; font-family: 'Arial Black', sans-serif; font-size: 4em; text-shadow: 2px 2px 5px #000; ">
        To be honest I didn't either... Until.. I found compelling data
    </h1>
    """
    , unsafe_allow_html=True
)

# Another Image (Kid)
st.image("https://media.makeameme.org/created/im-interested-51a78e5b71.jpg")

# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|

st.markdown(
    """
    <h1 style = "text-align: center; color: #f11446; font-family: 'Arial Black', sans-serif; font-size: 4em; text-shadow: 2px 2px 5px #000; ">
        What's the most annoying part of watching a sport? 
    </h1>
    """
    , unsafe_allow_html=True
)

# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|

st.markdown(
    """
    <h1 style = "text-align: center; color: #1486f1; font-family: 'Arial Black', sans-serif; font-size: 4em; text-shadow: 2px 2px 5px #000; ">
        is it the loud crowds?
    </h1>
    """
    , unsafe_allow_html=True
)

# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|

st.markdown(
    """
    <h1 style = "text-align: center; color: #f11446; font-family: 'Arial Black', sans-serif; font-size: 4em; text-shadow: 2px 2px 5px #000; ">
        The obnoxious announcers?
    </h1>
    """
    , unsafe_allow_html=True
)

# Another Image (Tom brady)
st.image("https://i.redd.it/ukdoww87tgnd1.jpeg")

# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|

st.markdown(
    """
    <h1 style = "text-align: center; color: #1486f1; font-family: 'Arial Black', sans-serif; font-size: 4em; text-shadow: 2px 2px 5px #000; ">
        Perhaps it's the food... that's making that new years resolution so much harder than it should be... right?
    </h1>
    """
    , unsafe_allow_html=True
)

# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|

st.markdown(
    """
    <h1 style = "text-align: center; color: #f11446; font-family: 'Arial Black', sans-serif; font-size: 4em; text-shadow: 2px 2px 5px #000; ">
        WRONG
    </h1>
    """
    , unsafe_allow_html=True
)

# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|

st.markdown(
    """
    <h1 style = "text-align: center; color: #1486f1; font-family: 'Arial Black', sans-serif; font-size: 4em; text-shadow: 2px 2px 5px #000; ">
        It's the Fans...
    </h1>
    """
    , unsafe_allow_html=True
)

# Center the image
center_image_css = '''
    <style>
    .centered-image {
        display: block;
        margin-left: auto;
        margin-right: auto;
    }
    </style>
'''

# Add CSS to Streamlit
st.markdown(center_image_css, unsafe_allow_html=True)

st.markdown(
    '''
    <img src="https://media1.giphy.com/media/l0MYsr8vxTRlb8CZi/200.webp?cid=790b76112j9owgq5kuxh336urd203e90alj4gc4gkgfts02d&ep=v1_gifs_search&rid=200.webp&ct=g" class="centered-image" width="600"/>
    ''', 
    unsafe_allow_html=True
)

# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|

# red
st.markdown(
    """
    <h1 style = "color: #f11446; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        The sheer amount of excuses every year over what causes team's misfortunes can be mindnumbing...
    </hi>
    """
    , unsafe_allow_html=True
)

st.markdown(
    '''
    <img src="https://media.tenor.com/0VWB37zAJfUAAAAM/excuses-spongebob.gif" class="centered-image" width="600"/>
    ''', 
    unsafe_allow_html=True
)

st.write("##")

# blue
st.markdown(
    """
    <h1 style = "color: #1486f1; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        There have been countless debates at the barbecues and family gatherings about who or what causes teams to succeed... or fail.
    </hi>
    """
    , unsafe_allow_html=True
)

st.markdown(
    '''
    <img src="https://bleedingcool.com/wp-content/uploads/2020/11/alwayssunny-1200x675.jpg" class="centered-image" width="800"/>
    ''', 
    unsafe_allow_html=True
)

st.write("##")

# red
st.markdown(
    """
    <h1 style = "color: #f11446; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        I wish to squash this debate once and for all! It doesn't matter if you're a ravid fan or simply just want to have something to point to
    </hi>
    """
    , unsafe_allow_html=True
)

st.markdown(
    '''
    <img src="https://static-00.iconduck.com/assets.00/backhand-index-pointing-down-emoji-1563x2048-f8uh42te.png" class="centered-image" width="600"/>
    ''', 
    unsafe_allow_html=True
)

st.write("##")

# blue
st.markdown(
    """
    <h1 style = "color: #1486f1; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        and say, Shut it, heres the facts! Regardless of the reasons, follow me on this journey and I'll at the very least give you
    </hi>
    """
    , unsafe_allow_html=True
)

st.markdown(
    '''
    <img src="https://media4.giphy.com/media/6a67zVJ0wMMOzg3YKA/200w.gif?cid=6c09b952he4h9w8arec3qhaf4qt80fl8bpvlpl8b72j6l3qv&ep=v1_gifs_search&rid=200w.gif&ct=g" class="centered-image" width="600"/>
    ''', 
    unsafe_allow_html=True
)

st.write("##")

# red
st.markdown(
    """
    <h1 style = "color: #f11446; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        something random to pass to the know it all family member...
    </hi>
    """
    , unsafe_allow_html=True
)

st.markdown(
    '''
    <img src="https://media0.giphy.com/media/l0Hlx0M5OI1ogTGo0/200w.gif?cid=6c09b952nyvcvv5i5tecliflalsanvvof19yf7320cd742mn&ep=v1_gifs_search&rid=200w.gif&ct=g" class="centered-image" width="600"/>
    ''', 
    unsafe_allow_html=True
)

st.write("##")

# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|

st.markdown(
    '''
    <img src="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExcWZqcnRkNWoycTFzdjk3dGNjeXVpdm1tdDFsaWhkeW4wbXBuYXd5NiZlcD12MV9naWZzX3NlYXJjaCZjdD1n/oGAM2NfiX50ac/giphy.webp" class="centered-image" width="700"/>
    ''', 
    unsafe_allow_html=True
)

# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|

# red
st.markdown(
    """
    <h1 style = "text-align: center; color: #f11446; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        All jokes aside... 
    </hi>
    """
    , unsafe_allow_html=True
)

# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|

# blue
st.markdown(
    """
    <h1 style = "text-align: center; color: #1486f1; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        Why this Question?\n
        Do Pentalties affect scoring?
    </hi>
    """
    , unsafe_allow_html=True
)

# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|

# red
st.markdown(
    """
    <h1 style = "color: #f11446; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        Long story short, I found correlations in the data... But interestingly, specific data.
    </hi>
    """
    , unsafe_allow_html=True
)

# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|

# red
st.markdown(
    """
    <h1 style = "color: #f11446; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        I found data sheets from this really cool website:
    </hi>
    """
    , unsafe_allow_html=True
)
# red
st.markdown(
    """
    <h1 style = "color: #f11446; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        https://nflsavant.com/about.php
    </hi>
    """
    , unsafe_allow_html=True
)

st.markdown(
    '''
    <img src="https://www.siteprice.org/SiteThumbs/n/nflsavant.com.webp" class="centered-image" width="600"/>
    ''', 
    unsafe_allow_html=True
)

# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|

# blue
st.markdown(
    """
    <h1 style = "color: #1486f1; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        I started by just displaying penalties for teams in 2024
    </hi>
    """
    , unsafe_allow_html=True
)

# read in data
data_2024 = pd.read_csv("pbp-2024.csv")
# Ensure that 'PenaltyTeam' includes only valid entries (not null) and the play is not null
df_penalties = data_2024[~data_2024['PenaltyTeam'].isnull() & ~data_2024['IsNoPlay']]

# Count penalties for each team
penalty_counts = df_penalties['PenaltyTeam'].value_counts().sort_index()

# Plotting the line graph
plt.figure(figsize=(12, 6))
penalty_counts.plot(kind='line', marker='o', linestyle='-')
plt.title('Number of Penalties per Team 2024')
plt.xlabel('Teams')
plt.ylabel('Number of Penalties')
plt.grid(True)
plt.xticks(rotation=45)
plt.tight_layout()

# Show the plot
st.pyplot(plt)

# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|

# red
st.markdown(
    """
    <h1 style = "color: #f11446; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        This wasn't useful on its own... But it was a start.
    </hi>
    """
    , unsafe_allow_html=True
)

st.write("##")
st.write("##")

# blue
st.markdown(
    """
    <h1 style = "color: #1486f1; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        I then plugged in the data set for 2023:
    </hi>
    """
    , unsafe_allow_html=True
)

# read in data
data_2023 = pd.read_csv("pbp-2023.csv")

# Ensure that 'PenaltyTeam' includes only valid entries (not null) and the play is not null
df_penalties = data_2023[~data_2023['PenaltyTeam'].isnull() & ~data_2023['IsNoPlay']]

# Count penalties for each team
penalty_counts = df_penalties['PenaltyTeam'].value_counts().sort_index()

# Plotting the line graph
plt.figure(figsize=(12, 6))
penalty_counts.plot(kind='line', marker='o', linestyle='-')
plt.title('Number of Penalties per Team 2023')
plt.xlabel('Teams')
plt.ylabel('Number of Penalties')
plt.grid(True)
plt.xticks(rotation=45)
plt.tight_layout()

# Show the plot
st.pyplot(plt)

# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|

# red
st.markdown(
    """
    <h1 style = "color: #f11446; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        This put me at a cross roads... I have this data that has gaps between teams and is starting to look similar year to year. 
    </hi>
    """
    , unsafe_allow_html=True
)

st.markdown(
    '''
    <img src="https://cdn.dribbble.com/users/3892283/screenshots/8578340/crossroads.gif" class="centered-image" width="600"/>
    ''', 
    unsafe_allow_html=True
)

st.write("##")
st.write("##")

# blue
st.markdown(
    """
    <h1 style = "color: #1486f1; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        Unfortunetly, this data set needed prunned... With so many teams, it created a difficulty in getting readable results.
        Therefore I decided on a new approach.
    </hi>
    """
    , unsafe_allow_html=True
)

st.markdown(
    '''
    <img src="https://media4.giphy.com/media/i9kwklipMwIusrsaA4/giphy.gif?cid=6c09b9525gmgmlwf9inf05jiuvyiam2pluyhoopekhyrzfww&ep=v1_gifs_search&rid=giphy.gif&ct=g" class="centered-image" width="600"/>
    ''', 
    unsafe_allow_html=True
)


st.write("##")
st.write("##")

# red
st.markdown(
    """
    <h1 style = "color: #f11446; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        I'll only analyze the super bowl teams for the past 10 years. Mainley because there are less of them... 
    </hi>
    """
    , unsafe_allow_html=True
)

st.markdown(
    '''
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQaU3vi9oqYE43_58Vn79IGHGOwzuJA_lD49A&s" class="centered-image" width="600"/>
    ''', 
    unsafe_allow_html=True
)

st.write("##")
st.write("##")

# red
st.markdown(
    """
    <h1 style = "color: #f11446; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        But more importantly... I can draw meanful conclusions with readable results, not to mention using the best of the best could give the more interesting results 
    </hi>
    """
    , unsafe_allow_html=True
)

st.markdown(
    '''
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT9SWIG-EjufPrjy6tRN4D6BsGpgMrhBpOoyw&s" class="centered-image" width="600"/>
    ''', 
    unsafe_allow_html=True
)

st.write("##")
st.write("##")

# blue
st.markdown(
    """
    <h1 style = "color: #1486f1; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        So I compiled the last 10 years of data for penalties, then parsed it for only the main super bowl teams...
    </hi>
    """
    , unsafe_allow_html=True
)

# read in data
data_2023 = pd.read_csv("pbp-2023.csv")
data_2022 = pd.read_csv("pbp-2022.csv")
data_2021 = pd.read_csv("pbp-2021.csv")
data_2020 = pd.read_csv("pbp-2020.csv")
data_2019 = pd.read_csv("pbp-2019.csv")
data_2018 = pd.read_csv("pbp-2018.csv")
data_2017 = pd.read_csv("pbp-2017.csv")
data_2016 = pd.read_csv("pbp-2016.csv")
data_2015 = pd.read_csv("pbp-2015.csv")
data_2014 = pd.read_csv("pbp-2014.csv")

# Teams to include in the graph
teams = ['SEA', 'TB', 'ATL', 'KC', 'SF', 'PHI', 'BAL', 'CIN']

# Ensure that 'PenaltyTeam' includes only valid entries (not null) 
df_penalties_2014 = data_2014[~data_2014['PenaltyTeam'].isnull() & data_2014['PenaltyTeam'].isin(teams)]
df_penalties_2015 = data_2015[~data_2015['PenaltyTeam'].isnull() & data_2015['PenaltyTeam'].isin(teams)]
df_penalties_2016 = data_2016[~data_2016['PenaltyTeam'].isnull() & data_2016['PenaltyTeam'].isin(teams)]
df_penalties_2017 = data_2017[~data_2017['PenaltyTeam'].isnull() & data_2017['PenaltyTeam'].isin(teams)]
df_penalties_2018 = data_2018[~data_2018['PenaltyTeam'].isnull() & data_2018['PenaltyTeam'].isin(teams)]
df_penalties_2019 = data_2019[~data_2019['PenaltyTeam'].isnull() & data_2019['PenaltyTeam'].isin(teams)]
df_penalties_2020 = data_2020[~data_2020['PenaltyTeam'].isnull() & data_2020['PenaltyTeam'].isin(teams)]
df_penalties_2021 = data_2021[~data_2021['PenaltyTeam'].isnull() & data_2021['PenaltyTeam'].isin(teams)]
df_penalties_2022 = data_2022[~data_2022['PenaltyTeam'].isnull() & data_2022['PenaltyTeam'].isin(teams)]
df_penalties_2023 = data_2023[~data_2023['PenaltyTeam'].isnull() & data_2023['PenaltyTeam'].isin(teams)]

# Count penalties for each team for both years
penalty_counts_2014 = df_penalties_2014['PenaltyTeam'].value_counts().sort_index()
penalty_counts_2015 = df_penalties_2015['PenaltyTeam'].value_counts().sort_index()
penalty_counts_2016 = df_penalties_2016['PenaltyTeam'].value_counts().sort_index()
penalty_counts_2017 = df_penalties_2017['PenaltyTeam'].value_counts().sort_index()
penalty_counts_2018 = df_penalties_2018['PenaltyTeam'].value_counts().sort_index()
penalty_counts_2019 = df_penalties_2019['PenaltyTeam'].value_counts().sort_index()
penalty_counts_2020 = df_penalties_2020['PenaltyTeam'].value_counts().sort_index()
penalty_counts_2021 = df_penalties_2021['PenaltyTeam'].value_counts().sort_index()
penalty_counts_2022 = df_penalties_2022['PenaltyTeam'].value_counts().sort_index()
penalty_counts_2023 = df_penalties_2023['PenaltyTeam'].value_counts().sort_index()

# Plotting the line graph
penaltie_graph = plt.figure(figsize=(12, 6))

# Plot all years
plt.plot(penalty_counts_2014.index, penalty_counts_2014.values, marker='o', linestyle='-', color='Gold', label='2014')
plt.plot(penalty_counts_2015.index, penalty_counts_2015.values, marker='o', linestyle='-', color='Aqua', label='2015')
plt.plot(penalty_counts_2016.index, penalty_counts_2016.values, marker='o', linestyle='-', color='Maroon', label='2016')
plt.plot(penalty_counts_2017.index, penalty_counts_2017.values, marker='o', linestyle='-', color='teal', label='2017')
plt.plot(penalty_counts_2018.index, penalty_counts_2018.values, marker='o', linestyle='-', color='purple', label='2018')
plt.plot(penalty_counts_2019.index, penalty_counts_2019.values, marker='o', linestyle='-', color='black', label='2019')
plt.plot(penalty_counts_2020.index, penalty_counts_2020.values, marker='o', linestyle='-', color='red', label='2020')
plt.plot(penalty_counts_2021.index, penalty_counts_2021.values, marker='o', linestyle='-', color='green', label='2021')
plt.plot(penalty_counts_2022.index, penalty_counts_2022.values, marker='o', linestyle='-', color='pink', label='2022')
plt.plot(penalty_counts_2023.index, penalty_counts_2023.values, marker='o', linestyle='-', color='blue', label='2023')

# Add titles, labels, and grid
plt.title('Number of Penalties per Team (2014 - 2023)')
plt.xlabel('Teams')
plt.ylabel('Number of Penalties')
plt.grid(True)
plt.xticks(rotation=45)
plt.legend()
plt.tight_layout()

# Show the plot
st.pyplot(penaltie_graph)

# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|


# red
st.markdown(
    """
    <h1 style = "color: #f11446; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        While not saying alot on its own... It does show levels of consistency throughout the years. 
    </hi>
    """
    , unsafe_allow_html=True
)

st.write("##")
st.write("##")

# blue
st.markdown(
    """
    <h1 style = "color: #1486f1; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        This doesn't answer the queston though... I needed to delve into scoring data. I found this great git hub for this data: 
    </hi>
    """
    , unsafe_allow_html=True
)

# blue
st.markdown(
    """
    <h1 style = "color: #1486f1; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        https://github.com/blnkpagelabs/nflscraPy/releases/tag/Scoring 
    </hi>
    """
    , unsafe_allow_html=True
)

st.write("##")
st.write("##")

# red
st.markdown(
    """
    <h1 style = "color: #f11446; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        Fortunetly this data set was far more straightforward. I parsed the scoring data and found facinating results...
    </hi>
    """
    , unsafe_allow_html=True
)

df_score_2014 = pd.read_csv("Scoring-2014.csv")
df_score_2015 = pd.read_csv("Scoring-2015.csv")
df_score_2016 = pd.read_csv("Scoring-2016.csv")
df_score_2017 = pd.read_csv("Scoring-2017.csv")
df_score_2018 = pd.read_csv("Scoring-2018.csv")
df_score_2019 = pd.read_csv("Scoring-2019.csv")
df_score_2020 = pd.read_csv("Scoring-2020.csv")
df_score_2021 = pd.read_csv("Scoring-2021.csv")
df_score_2022 = pd.read_csv("Scoring-2022.csv")
df_score_2023 = pd.read_csv("Scoring-2023.csv")

# Teams to include in the graph
teams = ['Seahawks', 'Buccaneers', 'Falcons', 'Chiefs', '49ers', 'Eagles', 'Ravens', 'Bengals']

# Filter data for the specified teams
df_fil_14 = df_score_2014[df_score_2014['scoring_team'].isin(teams)].copy()
df_fil_15 = df_score_2015[df_score_2015['scoring_team'].isin(teams)].copy()
df_fil_16 = df_score_2016[df_score_2016['scoring_team'].isin(teams)].copy()
df_fil_17 = df_score_2017[df_score_2017['scoring_team'].isin(teams)].copy()
df_fil_18 = df_score_2018[df_score_2018['scoring_team'].isin(teams)].copy()
df_fil_19 = df_score_2019[df_score_2019['scoring_team'].isin(teams)].copy()
df_fil_20 = df_score_2020[df_score_2020['scoring_team'].isin(teams)].copy()
df_fil_21 = df_score_2021[df_score_2021['scoring_team'].isin(teams)].copy()
df_fil_22 = df_score_2022[df_score_2022['scoring_team'].isin(teams)].copy()
df_fil_23 = df_score_2023[df_score_2023['scoring_team'].isin(teams)].copy()

# Count the number of scores for each team
score_counts_2014 = df_fil_14['scoring_team'].value_counts().reindex(teams, fill_value=0)
score_counts_2015 = df_fil_15['scoring_team'].value_counts().reindex(teams, fill_value=0)
score_counts_2016 = df_fil_16['scoring_team'].value_counts().reindex(teams, fill_value=0)
score_counts_2017 = df_fil_17['scoring_team'].value_counts().reindex(teams, fill_value=0)
score_counts_2018 = df_fil_18['scoring_team'].value_counts().reindex(teams, fill_value=0)
score_counts_2019 = df_fil_19['scoring_team'].value_counts().reindex(teams, fill_value=0)
score_counts_2020 = df_fil_20['scoring_team'].value_counts().reindex(teams, fill_value=0)
score_counts_2021 = df_fil_21['scoring_team'].value_counts().reindex(teams, fill_value=0)
score_counts_2022 = df_fil_22['scoring_team'].value_counts().reindex(teams, fill_value=0)
score_counts_2023 = df_fil_23['scoring_team'].value_counts().reindex(teams, fill_value=0)

# Plotting the line graph
score_graph = plt.figure(figsize=(12, 6))

plt.plot(score_counts_2014.index, score_counts_2014.values, marker='o', linestyle='-', color='Gold', label='2014')
plt.plot(score_counts_2015.index, score_counts_2015.values, marker='o', linestyle='-', color='Aqua', label='2015')
plt.plot(score_counts_2016.index, score_counts_2016.values, marker='o', linestyle='-', color='Maroon', label='2016')
plt.plot(score_counts_2017.index, score_counts_2017.values, marker='o', linestyle='-', color='teal', label='2017')
plt.plot(score_counts_2018.index, score_counts_2018.values, marker='o', linestyle='-', color='purple', label='2018')
plt.plot(score_counts_2019.index, score_counts_2019.values, marker='o', linestyle='-', color='black', label='2019')
plt.plot(score_counts_2020.index, score_counts_2020.values, marker='o', linestyle='-', color='red', label='2020')
plt.plot(score_counts_2021.index, score_counts_2021.values, marker='o', linestyle='-', color='green', label='2021')
plt.plot(score_counts_2022.index, score_counts_2022.values, marker='o', linestyle='-', color='pink', label='2022')
plt.plot(score_counts_2023.index, score_counts_2023.values, marker='o', linestyle='-', color='blue', label='2023')

# Add titles and labels
plt.title('Number of Scores by Team')
plt.xlabel('Teams')
plt.ylabel('Number of Scores')
plt.grid(True)
plt.xticks(rotation=45)
plt.legend()
plt.tight_layout()

# Show the plot
st.pyplot(score_graph)

# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|

# blue
st.markdown(
    """
    <h1 style = "color: #1486f1; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        While not perfect. There is an effective correlation here. When observing these graphs closely. 
        You can see as penalties for each team goes up... so does scoring??
    </hi>
    """
    , unsafe_allow_html=True
)

# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|

# red
st.markdown(
    """
    <h1 style = "color: #f11446; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        How could this be?
    </hi>
    """
    , unsafe_allow_html=True
)
st.markdown(
    '''
    <img src="https://media4.giphy.com/media/l0IylOPCNkiqOgMyA/giphy.gif?cid=6c09b9521h027in4z9ag9acnpnw7omjqobgmtmct1q9b0c1y&ep=v1_gifs_search&rid=giphy.gif&ct=g" class="centered-image" width="600"/>
    ''', 
    unsafe_allow_html=True
)

# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|


# blue
st.markdown(
    """
    <h1 style = "color: #1486f1; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        Not to be a buzz kill... but we truely can't actually draw...
    </hi>
    """
    , unsafe_allow_html=True
)

# blue
st.markdown(
    """
    <h1 style = "text-align: center; color: #1486f1; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        "SCIENTIFIC"
    </hi>
    """
    , unsafe_allow_html=True
)

st.markdown(
    '''
    <img src="https://media.giphy.com/media/2W8bEBGjSsRFu/giphy.gif" class="centered-image" width="400"/>
    ''', 
    unsafe_allow_html=True
)

# blue
st.markdown(
    """
    <h1 style = "color: #1486f1; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        Conclusions... but we can draw non scienfic conclusions!
    </hi>
    """
    , unsafe_allow_html=True
)

# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|

# red
st.markdown(
    """
    <h1 style = "color: #f11446; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        In the end... based on this data... We can conclude there is at least a small positive correlation between teams getting penalties 
        and scoring.
    </hi>
    """
    , unsafe_allow_html=True
)

st.pyplot(penaltie_graph)
st.pyplot(score_graph)

st.write("##")
st.write("##")

# blue
st.markdown(
    """
    <h1 style = "color: #1486f1; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        That being said, I want to use this fun example as a cautionary tale.. 
    </hi>
    """
    , unsafe_allow_html=True
)
st.markdown(
    '''
    <img src="https://www.creativesafetysupply.com/content/images/qa/caution-sign.jpg" class="centered-image" width="400"/>
    ''', 
    unsafe_allow_html=True
)


# ---------------- Spaces -------------------------------------------------------------------------------------|
st.write("##")
st.write("##")
st.write("##")
st.write("##")
# ---------------- Spaces -------------------------------------------------------------------------------------|

# red
st.markdown(
    """
    <h1 style = "color: #f11446; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        Say it with me... Correlation does not equal causation!
    </hi>
    """
    , unsafe_allow_html=True
)

st.write("##")
st.write("##")

# blue
st.markdown(
    """
    <h1 style = "color: #1486f1; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        While said alot, it can never be said too much... I want this example to visualize a very simple but important concept. 
        Even though both these data sets involve the same teams, in the same seasons, this can not mean we can draw quick conclusions
        with pretty charts.  
    </hi>
    """
    , unsafe_allow_html=True
)

st.markdown(
    '''
    <img src="https://images.squarespace-cdn.com/content/v1/59a06a384c0dbf809fe34fec/1625871922836-IN1JPAXF3G0Y2XXBNJN3/Article+image+-+Why+are+so+many+beautiful+charts+also+bad.png" class="centered-image" width="800"/>
    ''', 
    unsafe_allow_html=True
)


st.write("##")
st.write("##")

# red
st.markdown(
    """
    <h1 style = "color: #f11446; font-family: 'Arial Black', sans-serif; font-size: 3em; text-shadow: 2px 2px 5px #000; ">
        At the end of the day. Data can manipulate any number of viewpoints and must be used responsabily. 
        I hope that this exercise can further show how any data can be manipulated in ways to look how we want.
    </hi>
    """
    , unsafe_allow_html=True
)

st.write("##")
st.write("##")

st.markdown(
    '''
    <img src="https://cdn.dribbble.com/users/246068/screenshots/15777299/media/9dc55141c5e50654603b36a7e234f6cb.gif" class="centered-image" width="800"/>
    ''', 
    unsafe_allow_html=True
)